{% stylesheets
    "@RasFlashAlertBundle/Resources/public/css/alerts.css"
    output = 'css/alert/alerts.css'
%}
    <link rel="stylesheet" href="{{ asset_url }}" />
{% endstylesheets %}

<div id="ras-flash-alerts">
    {% for alert in flashAlerts %}
        <div class="alert alert-{{ alert.type }}"
             style="padding: 15px; margin-bottom: 20px; border-radius: 4px;">
            <button type="button" class="close">&times;</button>
            {{ alert.message | raw  }}
        </div>
    {% endfor %}
</div>

<script type="text/javascript">
    // Pure JavaScript implementation for flash alerts
    window.onload = function () {
        var elems = document.getElementById("ras-flash-alerts").getElementsByTagName('button');
        for (var i in elems) {
            if ((" " + elems[i].className + " ").indexOf("close") > -1) {
                elems[i].onclick = function () {
                    fadeout(this.parentNode);
                };
            }
        }
    }

    var fadeout = function(elem) {
        var o = 1;
        var timer = setInterval(function () {
            if (o <= 0.0) {
                elem.style.display = 'none';
                clearInterval(timer);

            }
            elem.style.opacity = o;
            elem.style.filter = 'alpha(opacity=' + o * 100 + ")";
            o -= 0.1;
        }, 25);
    };
</script>
